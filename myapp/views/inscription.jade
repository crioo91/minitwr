doctype html
html
  head
    meta(charset='utf-8')
    link(rel='stylesheet', href='test7.js')
    title TP : Un formulaire interactif
  body
    form#form
      label.formulaire(for='nom') Nom
      input#nom(name='nom', type='text')
      span.info Saisissez votre nom avec au moins 2 caractères
      br
      label.formulaire(for='prenom') Prénom
      input#prenom(name='prenom', type='text')
      span.info Saisissez votre prénom avec au moins 2 caractères
      br
      label.formulaire(for='pseudo') Pseudo
      input#pseudo(name='pseudo', type='text')
      span.info Saisissez un pseudo avec au moins 4 caractères
      br
      label.formulaire(for='mdp') Mot de passe
      input#mdp(name='mdp', type='password')
      span.info Le mot de passe doit faire au moins 6 caractères
      br
      label.formulaire(for='remdp') Confirmation du mot de passe
      input#remdp(name='remdp', type='password')
      span.info Le mot de passe de confirmation doit être identique à celui d'origine
      br
      label.formulaire(for='pays') Pays
      select#pays(name='pays')
        option(value='none') Sélectionnez...
        option(value='Afghanistan') Afghanistan 
        option(value='Afrique_Centrale') Afrique_Centrale 
        option(value='Afrique_du_sud') Afrique_du_Sud 
        option(value='Albanie') Albanie 
        option(value='Algerie') Algerie 
        option(value='Allemagne') Allemagne 
        option(value='Andorre') Andorre 
        option(value='Angola') Angola 
        option(value='Anguilla') Anguilla 
        option(value='Arabie_Saoudite') Arabie_Saoudite 
        option(value='Argentine') Argentine 
        option(value='Armenie') Armenie 
        option(value='Australie') Australie 
        option(value='Autriche') Autriche 
        option(value='Azerbaidjan') Azerbaidjan 
        option(value='Bahamas') Bahamas 
        option(value='Bangladesh') Bangladesh 
        option(value='Barbade') Barbade 
        option(value='Bahrein') Bahrein 
        option(value='Belgique') Belgique 
        option(value='Belize') Belize 
        option(value='Benin') Benin 
        option(value='Bermudes') Bermudes 
        option(value='Bielorussie') Bielorussie 
        option(value='Bolivie') Bolivie 
        option(value='Botswana') Botswana 
        option(value='Bhoutan') Bhoutan 
        option(value='Boznie_Herzegovine') Boznie_Herzegovine 
        option(value='Bresil') Bresil 
        option(value='Brunei') Brunei 
        option(value='Bulgarie') Bulgarie 
        option(value='Burkina_Faso') Burkina_Faso 
        option(value='Burundi') Burundi 
        option(value='Caiman') Caiman 
        option(value='Cambodge') Cambodge 
        option(value='Cameroun') Cameroun 
        option(value='Canada') Canada 
        option(value='Canaries') Canaries 
        option(value='Cap_vert') Cap_Vert 
        option(value='Chili') Chili 
        option(value='Chine') Chine 
        option(value='Chypre') Chypre 
        option(value='Colombie') Colombie 
        option(value='Comores') Colombie 
        option(value='Congo') Congo 
        option(value='Congo_democratique') Congo_democratique 
        option(value='Cook') Cook 
        option(value='Coree_du_Nord') Coree_du_Nord 
        option(value='Coree_du_Sud') Coree_du_Sud 
        option(value='Costa_Rica') Costa_Rica 
        option(value='Cote_d_Ivoire') Côte_d_Ivoire 
        option(value='Croatie') Croatie 
        option(value='Cuba') Cuba 
        option(value='Danemark') Danemark 
        option(value='Djibouti') Djibouti 
        option(value='Dominique') Dominique 
        option(value='Egypte') Egypte 
        option(value='Emirats_Arabes_Unis') Emirats_Arabes_Unis 
        option(value='Equateur') Equateur 
        option(value='Erythree') Erythree 
        option(value='Espagne') Espagne 
        option(value='Estonie') Estonie 
        option(value='Etats_Unis') Etats_Unis 
        option(value='Ethiopie') Ethiopie 
        option(value='Falkland') Falkland 
        option(value='Feroe') Feroe 
        option(value='Fidji') Fidji 
        option(value='Finlande') Finlande 
        option(value='France') France 
        option(value='Gabon') Gabon 
        option(value='Gambie') Gambie 
        option(value='Georgie') Georgie 
        option(value='Ghana') Ghana 
        option(value='Gibraltar') Gibraltar 
        option(value='Grece') Grece 
        option(value='Grenade') Grenade 
        option(value='Groenland') Groenland 
        option(value='Guadeloupe') Guadeloupe 
        option(value='Guam') Guam 
        option(value='Guatemala') Guatemala
        option(value='Guernesey') Guernesey 
        option(value='Guinee') Guinee 
        option(value='Guinee_Bissau') Guinee_Bissau 
        option(value='Guinee equatoriale') Guinee_Equatoriale 
        option(value='Guyana') Guyana 
        option(value='Guyane_Francaise ') Guyane_Francaise 
        option(value='Haiti') Haiti 
        option(value='Hawaii') Hawaii 
        option(value='Honduras') Honduras 
        option(value='Hong_Kong') Hong_Kong 
        option(value='Hongrie') Hongrie 
        option(value='Inde') Inde 
        option(value='Indonesie') Indonesie 
        option(value='Iran') Iran 
        option(value='Iraq') Iraq 
        option(value='Irlande') Irlande 
        option(value='Islande') Islande 
        option(value='Israel') Israel 
        option(value='Italie') italie 
        option(value='Jamaique') Jamaique 
        option(value='Jan Mayen') Jan Mayen 
        option(value='Japon') Japon 
        option(value='Jersey') Jersey 
        option(value='Jordanie') Jordanie 
        option(value='Kazakhstan') Kazakhstan 
        option(value='Kenya') Kenya 
        option(value='Kirghizstan') Kirghizistan 
        option(value='Kiribati') Kiribati 
        option(value='Koweit') Koweit 
        option(value='Laos') Laos 
        option(value='Lesotho') Lesotho 
        option(value='Lettonie') Lettonie 
        option(value='Liban') Liban 
        option(value='Liberia') Liberia 
        option(value='Liechtenstein') Liechtenstein 
        option(value='Lituanie') Lituanie 
        option(value='Luxembourg') Luxembourg 
        option(value='Lybie') Lybie 
        option(value='Macao') Macao 
        option(value='Macedoine') Macedoine 
        option(value='Madagascar') Madagascar 
        option(value='Madère') Madère 
        option(value='Malaisie') Malaisie 
        option(value='Malawi') Malawi 
        option(value='Maldives') Maldives 
        option(value='Mali') Mali 
        option(value='Malte') Malte 
        option(value='Man') Man 
        option(value='Mariannes du Nord') Mariannes du Nord 
        option(value='Maroc') Maroc 
        option(value='Marshall') Marshall 
        option(value='Martinique') Martinique 
        option(value='Maurice') Maurice 
        option(value='Mauritanie') Mauritanie 
        option(value='Mayotte') Mayotte 
        option(value='Mexique') Mexique 
        option(value='Micronesie') Micronesie 
        option(value='Midway') Midway 
        option(value='Moldavie') Moldavie 
        option(value='Monaco') Monaco 
        option(value='Mongolie') Mongolie 
        option(value='Montserrat') Montserrat 
        option(value='Mozambique') Mozambique 
        option(value='Namibie') Namibie 
        option(value='Nauru') Nauru 
        option(value='Nepal') Nepal 
        option(value='Nicaragua') Nicaragua 
        option(value='Niger') Niger 
        option(value='Nigeria') Nigeria 
        option(value='Niue') Niue 
        option(value='Norfolk') Norfolk 
        option(value='Norvege') Norvege 
        option(value='Nouvelle_Caledonie') Nouvelle_Caledonie 
        option(value='Nouvelle_Zelande') Nouvelle_Zelande 
        option(value='Oman') Oman 
        option(value='Ouganda') Ouganda 
        option(value='Ouzbekistan') Ouzbekistan 
        option(value='Pakistan') Pakistan 
        option(value='Palau') Palau 
        option(value='Palestine') Palestine 
        option(value='Panama') Panama 
        option(value='Papouasie_Nouvelle_Guinee') Papouasie_Nouvelle_Guinee 
        option(value='Paraguay') Paraguay 
        option(value='Pays_Bas') Pays_Bas 
        option(value='Perou') Perou 
        option(value='Philippines') Philippines 
        option(value='Pologne') Pologne 
        option(value='Polynesie') Polynesie 
        option(value='Porto_Rico') Porto_Rico 
        option(value='Portugal') Portugal 
        option(value='Qatar') Qatar 
        option(value='Republique_Dominicaine') Republique_Dominicaine 
        option(value='Republique_Tcheque') Republique_Tcheque 
        option(value='Reunion') Reunion 
        option(value='Roumanie') Roumanie 
        option(value='Royaume_Uni') Royaume_Uni 
        option(value='Russie') Russie 
        option(value='Rwanda') Rwanda 
        option(value='Sahara Occidental') Sahara Occidental 
        option(value='Sainte_Lucie') Sainte_Lucie 
        option(value='Saint_Marin') Saint_Marin 
        option(value='Salomon') Salomon 
        option(value='Salvador') Salvador 
        option(value='Samoa_Occidentales') Samoa_Occidentales
        option(value='Samoa_Americaine') Samoa_Americaine 
        option(value='Sao_Tome_et_Principe') Sao_Tome_et_Principe 
        option(value='Senegal') Senegal 
        option(value='Seychelles') Seychelles 
        option(value='Sierra Leone') Sierra Leone 
        option(value='Singapour') Singapour 
        option(value='Slovaquie') Slovaquie 
        option(value='Slovenie') Slovenie
        option(value='Somalie') Somalie 
        option(value='Soudan') Soudan 
        option(value='Sri_Lanka') Sri_Lanka 
        option(value='Suede') Suede 
        option(value='Suisse') Suisse 
        option(value='Surinam') Surinam 
        option(value='Swaziland') Swaziland 
        option(value='Syrie') Syrie 
        option(value='Tadjikistan') Tadjikistan 
        option(value='Taiwan') Taiwan 
        option(value='Tonga') Tonga 
        option(value='Tanzanie') Tanzanie 
        option(value='Tchad') Tchad 
        option(value='Thailande') Thailande 
        option(value='Tibet') Tibet 
        option(value='Timor_Oriental') Timor_Oriental 
        option(value='Togo') Togo 
        option(value='Trinite_et_Tobago') Trinite_et_Tobago 
        option(value='Tristan da cunha') Tristan de cuncha 
        option(value='Tunisie') Tunisie 
        option(value='Turkmenistan') Turmenistan 
        option(value='Turquie') Turquie 
        option(value='Ukraine') Ukraine 
        option(value='Uruguay') Uruguay 
        option(value='Vanuatu') Vanuatu 
        option(value='Vatican') Vatican 
        option(value='Venezuela') Venezuela 
        option(value='Vierges_Americaines') Vierges_Americaines 
        option(value='Vierges_Britanniques') Vierges_Britanniques 
        option(value='Vietnam') Vietnam 
        option(value='Wake') Wake 
        option(value='Wallis et Futuma') Wallis et Futuma 
        option(value='Yemen') Yemen 
        option(value='Yougoslavie') Yougoslavie 
        option(value='Zambie') Zambie 
        option(value='Zimbabwe') Zimbabwe
      span.info Sélectionnez votre pays de naissance
      br
      label.formulaire(for='naissance')  Date de Naissance
      select#jour(name='jour')
        option(value='none') Jour
        option(value='1') 1
        option(value='2') 2
        option(value='3') 3
        option(value='4') 4
        option(value='5') 5
        option(value='6') 6
        option(value='7') 7
        option(value='8') 8
        option(value='9') 9
        option(value='10') 10
        option(value='11') 11
        option(value='12') 12
        option(value='13') 13
        option(value='14') 14
        option(value='15') 15
        option(value='16') 16
        option(value='17') 17
        option(value='18') 18
        option(value='19') 19
        option(value='20') 20
        option(value='21') 21
        option(value='22') 22
        option(value='23') 23
        option(value='24') 24
        option(value='25') 25
        option(value='26') 26
        option(value='27') 27
        option(value='28') 28
        option(value='29') 29
        option(value='30') 30
        option(value='31') 31
      span.info Veuillez indiquer votre date de naissance
      select#mois(name='mois')
        option(value='none') Mois
        option(value='1') Janvier
        option(value='2') Février
        option(value='3') Mars
        option(value='4') Avril
        option(value='5') Mai
        option(value='6') Juin
        option(value='7') Juillet
        option(value='8') Aout
        option(value='9') Septembre
        option(value='10') Octobre
        option(value='11') Novembre
        option(value='12') Décembre
      span.info Veuillez indiquer votre date de naissance
      select#annee(name='annee')
        option(value='none') Année
        option(value='2013') 2013
        option(value='2012') 2012
        option(value='2011') 2011
        option(value='2010') 2010
        option(value='2009') 2009
        option(value='2008') 2008
        option(value='2007') 2007
        option(value='2006') 2006
        option(value='2005') 2005
        option(value='2004') 2004
        option(value='2003') 2003
        option(value='2002') 2002
        option(value='2001') 2001
        option(value='2000') 2000
        option(value='1999') 1999
        option(value='1998') 1998
        option(value='1997') 1997
        option(value='1996') 1996
        option(value='1995') 1995
        option(value='1994') 1994
        option(value='1993') 1993
        option(value='1992') 1992
        option(value='1991') 1991
        option(value='1990') 1990
        option(value='1989') 1989
        option(value='1988') 1988
        option(value='1987') 1987
        option(value='1986') 1986
        option(value='1985') 1985
        option(value='1984') 1984
        option(value='1983') 1983
        option(value='1982') 1982
        option(value='1981') 1981
        option(value='1980') 1980
        option(value='1979') 1979
        option(value='1978') 1978
        option(value='1977') 1977
        option(value='1976') 1976
        option(value='1975') 1975
        option(value='1974') 1974
        option(value='1973') 1973
        option(value='1972') 1972
        option(value='1971') 1971
        option(value='1970') 1970
        option(value='1969') 1969
        option(value='1968') 1968
        option(value='1967') 1967
        option(value='1966') 1966
        option(value='1965') 1965
        option(value='1964') 1964
        option(value='1963') 1963
        option(value='1962') 1962
        option(value='1961') 1961
        option(value='1960') 1960
        option(value='1959') 1959
        option(value='1958') 1958
        option(value='1957') 1957
        option(value='1956') 1956
        option(value='1955') 1955
        option(value='1954') 1954
        option(value='1953') 1953
        option(value='1952') 1952
        option(value='1951') 1951
        option(value='1950') 1950
        option(value='1949') 1949
        option(value='1948') 1948
        option(value='1947') 1947
        option(value='1946') 1946
        option(value='1945') 1945
        option(value='1944') 1944
        option(value='1943') 1943
        option(value='1942') 1942
        option(value='1941') 1941
        option(value='1940') 1940
        option(value='1939') 1939
        option(value='1938') 1938
        option(value='1937') 1937
        option(value='1936') 1936
        option(value='1935') 1935
        option(value='1934') 1934
        option(value='1933') 1933
        option(value='1932') 1932
        option(value='1931') 1931
        option(value='1930') 1930
        option(value='1929') 1929
        option(value='1928') 1928
        option(value='1927') 1927
        option(value='1926') 1926
        option(value='1925') 1925
        option(value='1924') 1924
        option(value='1923') 1923
        option(value='1922') 1922
        option(value='1921') 1921
        option(value='1920') 1920
        option(value='1919') 1919
        option(value='1918') 1918
        option(value='1917') 1917
        option(value='1916') 1916
        option(value='1915') 1915
        option(value='1914') 1914
        option(value='1913') 1913
        option(value='1912') 1912
        option(value='1911') 1911
        option(value='1910') 1910
        option(value='1909') 1909
        option(value='1908') 1908
        option(value='1907') 1907
        option(value='1906') 1906
        option(value='1905') 1905
      span.info Veuillez indiquer votre date de naissance
      br
      span.formulaire Sexe
      label
        input(name='sexe', type='radio', value='H')
        | Homme
      label
        input(name='sexe', type='radio', value='F')
        | Femme
      span.info Sélectionnez votre sexe
      br
      span.formulaire
      input(type='submit', value="M'inscrire")
    script.
      // Fonction de désactivation de l'affichage des "infos"
      function deactivateTooltips() {
      var infos = document.querySelectorAll('.info'),
      infosLength = infos.length;
      for (var i = 0 ; i < infosLength ; i++) {
      infos[i].style.display = 'none';
      }
      }
      
      // La fonction ci-dessous permet de récupérer la "info" qui correspond à notre input
      function getTooltip(elements) {
      while (elements = elements.nextSibling) {
      if (elements.className === 'info') {
      return elements;
      }
      }
      return false;
      }
      
      // Fonctions renvoient "true" si tout est ok pour le sexe
      var check = {}; 
      check['sexe'] = function() {
      var sexe = document.getElementsByName('sexe'),
      infoStyle = getTooltip(sexe[1].parentNode).style;
      if (sexe[0].checked || sexe[1].checked) {
      infoStyle.display = 'none';
      return true;
      } else {
      infoStyle.display = 'inline-block';
      return false;
      }
      };

      check['nom'] = function(id) {
      var nom = document.getElementById(id),
      infoStyle = getTooltip(nom).style;
      if (nom.value.length >= 2) {
      nom.className = 'correct';
      infoStyle.display = 'none';
      return true;
      } else {
      nom.className = 'incorrect';
      infoStyle.display = 'inline-block';
      return false;
      }
      };
      check['prenom'] = check['nom'];
      
      check['pseudo'] = function() {
      var pseudo = document.getElementById('pseudo'),
      infoStyle = getTooltip(pseudo).style;
      if (pseudo.value.length >= 4) {
      pseudo.className = 'correct';
      infoStyle.display = 'none';
      return true;
      } else {
      pseudo.className = 'incorrect';
      infoStyle.display = 'inline-block';
      return false;
      }
      };
